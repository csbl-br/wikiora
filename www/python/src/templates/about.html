{% extends "layout.html" %}

{% block content %}
<div class="container">
  <h1 class="mt-5">About WikiORA</h1>

  <img src="{{ url_for('static', filename='example.png') }}" class="img-fluid" alt="Example Workflow">
  <p class="mt-2 text-center small text-muted">WikiORA integrates Wikidata, Gene Ontology, PanglaoDB, and Wikipedia for
    a seamless, encyclopedic enrichment analysis.</p>
  <p>WikiORA is a tool designed to simplify the process of gene set over-representation analysis by integrating data
    from Wikidata and Wikipedia. Our goal is to provide researchers with an intuitive platform to identify significantly
    enriched gene sets in their data using curated information from various sources.</p>

  <h3>How It Works</h3>
  <p>WikiORA follows these steps to perform over-representation analysis:</p>
  <ol>
    <li>Users submit a list of genes.</li>
    <li>For each gene set on the library, we calculate the overlap between the user-provided gene list and the genes in
      the gene set.
    </li>
    <li>The p-value is computed using the hypergeometric test to determine the likelihood of observing the overlap by
      chance.</li>
    <li>We apply the Benjamini-Hochberg correction to adjust p-values for multiple testing.</li>
    <li>Results are sorted by p-value to identify the most significantly over-represented terms.</li>
  </ol>

  <h3>Statistical Metrics Explained</h3>
  <p>Here are the definitions of the various metrics generated by WikiORA. While only some metrics are shown in the
    dashboard, they are all available upon downloading the tsv.</p>
  <ul>
    <li><strong>Term:</strong> The identifier of the gene set.</li>
    <li><strong>Description:</strong> A brief description of the gene set.</li>
    <li><strong>Wikipedia URL:</strong> A link to the Wikipedia page associated with the gene set.</li>
    <li><strong>Overlap:</strong> The genes from the user list that overlap with the genes in the gene set. Each gene
      includes a link to its Wikipedia page and its status.</li>
    <li><strong>Count:</strong> The number of overlapping genes.</li>
    <li><strong>p-value:</strong> The probability of observing the overlap by chance, calculated using the
      hypergeometric test.</li>
    <li><strong>q-value:</strong> The p-value adjusted for multiple testing using the Benjamini-Hochberg correction.
    </li>
    <li><strong>Odds Ratio:</strong> Measures the association strength, calculated as:
      <pre>odds_ratio = (overlap_count * (total_genes - gene_set_size - input_gene_list_size + overlap_count)) / max((gene_set_size - overlap_count) * (input_gene_list_size - overlap_count), 1)</pre>
    </li>
    <li><strong>Combined Score:</strong> An overall significance measure, calculated as:
      <pre>combined_score = -log10(p_value) * odds_ratio</pre>
    </li>
    <li><strong>Gene Ratio:</strong> The ratio of overlapping genes to the total genes in the gene set, calculated as:
      <pre>gene_ratio = overlap_count / gene_set_size</pre>
    </li>
    <li><strong>Gene Set Size:</strong> The number of genes listed in this particular gene set. </pre>
    </li>
  </ul>

  {% include '_data_sources_and_citing.html' %}

  <h3>Team</h3>
  <p>WikiORA is developed in Brazil by a team of bioinformaticians passionate about open knowledge. The project is led
    by <a href="https://tiago.bio.br" target="_blank">Tiago Lubiana</a> at the <a href="https://www.csbiology.org/"
      target="_blank">Computational Systems Biology Laboratory</a>, headed by Prof. Helder Nakaya.</p>

  <h3>Contact Us</h3>
  <p>If you have any questions, feedback, or suggestions, please contact us via <a
      href="https://github.com/lubianat/wikiora/issues" target="_blank">GitHub</a>.</p>

  <h3>GitHub</h3>
  <p>If you like our project, give us a ‚≠ê on <a href="https://github.com/lubianat/wikiora" target="_blank">GitHub</a>!
  </p>
</div>
{% endblock %}